# Модел претњи игара из First Person Shooter жанра

## 1. Упознавање са модулом

### 1.1. Токови података

![img](./ctx_flow.drawio.png)

_Слика 1. Ток рада игре на високом нивоу._

Модул се састоји из две компоненте: клијент и сервер.

На **серверу** је покренута игра. **Клијент** функционише као удаљен улазно-излазни уређај. Клијенти примају унос са тастатуре и миша и шаљу га серверу. На основу тих уноса, сервер обрађује стања свих играча којима одговарају конектовани клијенти. Сервер потом шаље измене у стању игре сваком од клијената. На основу новог стања игре, клијенти рендерују графику на екран. Овај поступак се понавља више пута у секунди како би корисник добио утисак кретања.

![img](./fps_dfd.drawio.png)

_Слика 2. Дијаграм тока података игре._

Пример тока података једне онлајн игре дат је у слици 2. Играч (**Player**) је екстерни ентитет
и крајњи корисник апликације. Функционалности којима он има приступ су:
- глобално рангирање у односу на остале играче
- измена података налога
- претрага и конекција на сервере
- играње игре


Играч учествује у комуникацији преко процесног чвора клијента (**Game Client**). Конфигурације клијента (попут резолуције екрана, контрола, јачина звука итд.) се складиште на фајл систему (**Client Config**). Приказ графичког и аудио садржаја се обавља са клијентске стране, стога клијент мора да чува асете локално (**Client Data**).

По својој природи, клијент је "глуп" - он нема сложену интерну логику, већ ће обраћа серверу (**Game Server**) на који је конектован. На серверу је покренута игра: ту се обрађује логика игре и физика. При покретању, сервер учитава конфигурације из датотеке (**Server Config**). Сервер може по потреби да служи додатан садржај у виду специјалних асета које клијенти преузимају током конекције на сервер. Ти асети се чувају локално (**Server Data**).

Сервер за DRM (**DRM Server**) обезбеђује заштиту од пиратерије. Реализован је као _always online DRM_ који захтева сталну конекцију са клијентима. Клијенти периоднично шаљу потребне податке о свом идентитету које сервер за DRM валидира.

### 1.2. Ресурси и претње

На слици 3 приказан је дијаграм токова података, допуњен са одабраним ресурсима од значаја.

У табели 1 је дат опис за сваки од ресурса, а у табели 2 су идентификоване потенцијалне претње на те ресурсе. Иако се неки ресурси налазе уз више чворова дијаграма, напомињемо да то не значи да су ти чворови подједнако подложни нападима на рањивости тих ресурса.

![img](./dfd_with_resources.drawio.png)

_Слика 3. Модификован дијаграм тока података игре, где су одређеним чворовима придружени значајни ресурси. Ресурси су репрезентовани идентификатором који одговара првој колони у табели 1._

| ID | Ресурс |
| -- | ------ |
| R1 | Позиције играча |
| R2 | Статус играча (енергија, муниција, оружје) |
| R3 | Привилегије играча |
| R4 | Конфигурационе варијабле |
| R5 | Асети игре |

_Табела 1. Одабрани ресурси._

| ID | Рањив ресурс | Претња | Тип (STRIDE) |
| -- | -------- | ------ | --- |
| T1 | R1 | Приступ позицијама играча који нису видљиви | Information Disclosure |
| T2 | R2 | Измена података о играчима | Tampering |
| T3 | R3 | Бановање других играча | Spoofing, Elevation of privilege |
| T4 | R4 | Рушење апликације | Denial of Service |
| T5 | R5 | Уклањање доступности сервера | Tampering, Denial of Service |
| T6 | R5 | Приказ играча који нису видљиви | Information Disclosure, Tampering |
| T7 | R5 | Нарушавање угледа игре | Tampering |

_Табела 2. Одабране претње._

## 2. Идентификација напада

## 3. Анализа напада и митигације